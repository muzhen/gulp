!function(t){function i(){return!1}function o(i){return t.adaptObject(this,n,i,e,l,"dialog")}var e='<div class="ui-dialog"><div class="ui-dialog-cnt"><div class="ui-dialog-bd"><div><h4><%=title%></h4><div><%=content%></div></div></div><div class="ui-dialog-ft ui-btn-group"><% for (var i = 0; i < button.length; i++) { %><% if (i == select) { %><button type="button" data-role="button"  class="select" id="dialogButton<%=i%>"><%=button[i]%></button><% } else { %><button type="button" data-role="button" id="dialogButton<%=i%>"><%=button[i]%></div><% } %><% } %></div></div></div>',n={title:"",content:"",button:["确认"],select:0,allowScroll:!1,callback:function(){}},l=function(i,o,e){this.option=t.extend(n,o),this.element=t(i),this._isFromTpl=e,this.button=t(i).find('[data-role="button"]'),this._bindEvent(),this.toggle()};l.prototype={_bindEvent:function(){var i=this;i.button.on("tap",function(){var o=t(i.button).index(t(this)),e=t.Event("dialog:action");e.index=o,i.element.trigger(e),i.hide.apply(i)})},toggle:function(){this.element.hasClass("show")?this.hide():this.show()},show:function(){var o=this;o.element.trigger(t.Event("dialog:show")),o.element.addClass("show"),this.option.allowScroll&&o.element.on("touchmove",i)},hide:function(){var o=this;o.element.trigger(t.Event("dialog:hide")),o.element.off("touchmove",i),o.element.removeClass("show"),o._isFromTpl&&o.element.remove()}},t.fn.dialog=t.dialog=o}(window.Zepto);
!function(i){function t(t){return i.adaptObject(this,e,t,n,o,"loading")}var n='<div class="ui-loading-block show"><div class="ui-loading-cnt"><i class="ui-loading-bright"></i><p><%=content%></p></div></div>',e={content:"加载中..."},o=function(t,n,o){this.element=i(t),this._isFromTpl=o,this.option=i.extend(e,n),this.show()};o.prototype={show:function(){var t=i.Event("loading:show");this.element.trigger(t),this.element.show()},hide:function(){var t=i.Event("loading:hide");this.element.trigger(t),this.element.remove()}},i.fn.loading=i.loading=t}(window.Zepto);
!function(t){function i(i,e){this.wrapper="string"==typeof i?t(i)[0]:i,this.options={startX:0,startY:0,scrollY:!0,scrollX:!1,directionLockThreshold:5,momentum:!0,duration:300,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,eventPassthrough:!0,freeScroll:!1,bindToWrapper:!0,resizePolling:60,disableMouse:!1,disableTouch:!1,disablePointer:!1,tap:!0,click:!1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var o in e)this.options[o]=e[o];if(this.options.role||this.options.scrollX!==!1||(this.options.eventPassthrough="horizontal"),"slider"===this.options.role){if(this.options.scrollX=!0,this.options.scrollY=!1,this.options.momentum=!1,this.scroller=t(".ui-slider-content")[0],t(this.scroller.children[0]).addClass("current"),this.currentPage=0,this.count=this.scroller.children.length,this.scroller.style.width=this.count+"00%",this.itemWidth=this.scroller.children[0].clientWidth,this.scrollWidth=this.itemWidth*this.count,this.options.indicator){for(var n='<ul class="ui-slider-indicators">',o=1;o<=this.count;o++)n+=1===o?'<li class="current">'+o+"</li>":"<li>"+o+"</li>";n+="</ul>",t(this.wrapper).append(n),this.indicator=t(".ui-slider-indicators")[0]}}else"tab"===this.options.role?(this.options.scrollX=!0,this.options.scrollY=!1,this.options.momentum=!1,this.scroller=t(".ui-tab-content")[0],this.nav=t(".ui-tab-nav")[0],t(this.scroller.children[0]).addClass("current"),t(this.nav.children[0]).addClass("current"),this.currentPage=0,this.count=this.scroller.children.length,this.scroller.style.width=this.count+"00%",this.itemWidth=this.scroller.children[0].clientWidth,this.scrollWidth=this.itemWidth*this.count):this.scroller=this.wrapper.children[0];if(this.scrollerStyle=this.scroller.style,this.translateZ=s.hasPerspective&&this.options.HWCompositing?" translateZ(0)":"",this.options.useTransition=s.hasTransition&&this.options.useTransition,this.options.useTransform=s.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?s.ease[this.options.bounceEasing]||s.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.useTransform===!1&&(this.scroller.style.position="relative"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable(),this.options.autoplay){var r=this;this.options.interval=this.options.interval||2e3,this.options.flag=setTimeout(function(){r._autoplay.apply(r)},r.options.interval)}}var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},s=function(){function t(t){return s===!1?!1:""===s?t:s+t.charAt(0).toUpperCase()+t.substr(1)}var i={},e=document.createElement("div").style,s=function(){for(var t,i=["t","webkitT","MozT","msT","OT"],s=0,o=i.length;o>s;s++)if(t=i[s]+"ransform",t in e)return i[s].substr(0,i[s].length-1);return!1}();i.getTime=Date.now||function(){return(new Date).getTime()},i.extend=function(t,i){for(var e in i)t[e]=i[e]},i.addEvent=function(t,i,e,s){t.addEventListener(i,e,!!s)},i.removeEvent=function(t,i,e,s){t.removeEventListener(i,e,!!s)},i.prefixPointerEvent=function(t){return window.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},i.momentum=function(t,i,e,s,o,n){var r,h,a=t-i,l=Math.abs(a)/e;return n=void 0===n?6e-4:n,r=t+l*l/(2*n)*(0>a?-1:1),h=l/n,s>r?(r=o?s-o/2.5*(l/8):s,a=Math.abs(r-t),h=a/l):r>0&&(r=o?o/2.5*(l/8):0,a=Math.abs(t)+r,h=a/l),{destination:Math.round(r),duration:h}};var o=t("transform");return i.extend(i,{hasTransform:o!==!1,hasPerspective:t("perspective")in e,hasTouch:"ontouchstart"in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:t("transition")in e}),i.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion),i.extend(i.style={},{transform:o,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin"),transitionProperty:t("transitionProperty")}),i.offset=function(t){for(var i=-t.offsetLeft,e=-t.offsetTop;t=t.offsetParent;)i-=t.offsetLeft,e-=t.offsetTop;return{left:i,top:e}},i.preventDefaultException=function(t,i){for(var e in i)if(i[e].test(t[e]))return!0;return!1},i.extend(i.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),i.extend(i.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return Math.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var i=4;return(t-=1)*t*((i+1)*t+i)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var i=.22,e=.4;return 0===t?0:1==t?1:e*Math.pow(2,-10*t)*Math.sin((t-i/4)*(2*Math.PI)/i)+1}}}),i.tap=function(t,i){var e=document.createEvent("Event");e.initEvent(i,!0,!0),e.pageX=t.pageX,e.pageY=t.pageY,t.target.dispatchEvent(e)},i.click=function(t){var i,e=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(e.tagName)||(i=document.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,t.view,1,e.screenX,e.screenY,e.clientX,e.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i._constructed=!0,e.dispatchEvent(i))},i}();i.prototype={_init:function(){this._initEvents()},_initEvents:function(t){var i=t?s.removeEvent:s.addEvent,e=this.options.bindToWrapper?this.wrapper:window;i(window,"orientationchange",this),i(window,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(e,"mousemove",this),i(e,"mousecancel",this),i(e,"mouseup",this)),s.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,s.prefixPointerEvent("pointerdown"),this),i(e,s.prefixPointerEvent("pointermove"),this),i(e,s.prefixPointerEvent("pointercancel"),this),i(e,s.prefixPointerEvent("pointerup"),this)),s.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(e,"touchmove",this),i(e,"touchcancel",this),i(e,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this),"tab"===this.options.role&&(i(this.nav,"touchend",this),i(this.nav,"mouseup",this),i(this.nav,"pointerup",this))},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var t=window.getComputedStyle(this.wrapper,null),i=t["padding-top"].replace(/[^-\d.]/g,""),e=t["padding-bottom"].replace(/[^-\d.]/g,""),o=t["padding-left"].replace(/[^-\d.]/g,""),n=t["padding-right"].replace(/[^-\d.]/g,""),r=window.getComputedStyle(this.scroller,null),h=r["margin-top"].replace(/[^-\d.]/g,""),a=r["margin-bottom"].replace(/[^-\d.]/g,""),l=r["margin-left"].replace(/[^-\d.]/g,""),c=r["margin-right"].replace(/[^-\d.]/g,"");this.scrollerWidth=this.scroller.offsetWidth+parseInt(o)+parseInt(n)+parseInt(l)+parseInt(c),this.scrollerHeight=this.scroller.offsetHeight+parseInt(i)+parseInt(e)+parseInt(h)+parseInt(a),"slider"!==this.options.role&&"tab"!==this.options.role||(this.itemWidth=this.scroller.children[0].clientWidth,this.scrollWidth=this.itemWidth*this.count,this.scrollerWidth=this.scrollWidth),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=s.offset(this.wrapper),this.resetPosition()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}},_start:function(t){if((1==s.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||s.eventType[t.type]===this.initiated)){!this.options.preventDefault||s.isBadAndroid||s.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var i,e=t.touches?t.touches[0]:t;if(this.initiated=s.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=s.getTime(),this.options.useTransition&&this.isInTransition&&"slider"!==this.options.role&&"tab"!==this.options.role?(this.isInTransition=!1,i=this.getComputedPosition(),this._translate(Math.round(i.x),Math.round(i.y))):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=e.pageX,this.pointY=e.pageY,this.options.autoplay){var o=this;clearTimeout(this.options.flag),this.options.flag=setTimeout(function(){o._autoplay.apply(o)},o.options.interval)}event.stopPropagation()}},_move:function(i){if(this.enabled&&s.eventType[i.type]===this.initiated){this.options.preventDefault&&i.preventDefault();var e,o,n,r,h=i.touches?i.touches[0]:i,a=h.pageX-this.pointX,l=h.pageY-this.pointY,c=s.getTime();if(this.pointX=h.pageX,this.pointY=h.pageY,this.distX+=a,this.distY+=l,n=Math.abs(this.distX),r=Math.abs(this.distY),!(c-this.endTime>300&&10>n&&10>r)){if(this.directionLocked||this.options.freeScroll||(n>r+this.options.directionLockThreshold?this.directionLocked="h":r>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("tab"===this.options.role&&t(this.scroller).children("li").height("auto"),"vertical"==this.options.eventPassthrough)i.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)i.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,l=this.hasVerticalScroll?l:0,e=this.x+a,o=this.y+l,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+a/3:e>0?0:this.maxScrollX),(o>0||o<this.maxScrollY)&&(o=this.options.bounce?this.y+l/3:o>0?0:this.maxScrollY),this.directionX=a>0?-1:0>a?1:0,this.directionY=l>0?-1:0>l?1:0,this.moved=!0,this._translate(e,o),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(i){if(this.enabled&&s.eventType[i.type]===this.initiated){this.options.preventDefault&&!s.preventDefaultException(i.target,this.options.preventDefaultException)&&i.preventDefault();var e,o,n=(i.changedTouches?i.changedTouches[0]:i,s.getTime()-this.startTime),r=Math.round(this.x),h=Math.round(this.y),a=Math.abs(r-this.startX),l=(Math.abs(h-this.startY),0),c="";if(this.isInTransition=0,this.initiated=0,this.endTime=s.getTime(),this.resetPosition(this.options.bounceTime))return void("tab"===this.options.role&&t(this.scroller.children[this.currentPage]).siblings("li").height(0));if(this.scrollTo(r,h),this.moved||(this.options.tap&&1===s.eventType[i.type]&&s.tap(i,this.options.tap),this.options.click&&s.click(i)),this.options.momentum&&300>n&&(e=this.hasHorizontalScroll?s.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},o=this.hasVerticalScroll?s.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:h,duration:0},r=e.destination,h=o.destination,l=Math.max(e.duration,o.duration),this.isInTransition=1),r!=this.x||h!=this.y)return(r>0||r<this.maxScrollX||h>0||h<this.maxScrollY)&&(c=s.ease.quadratic),void this.scrollTo(r,h,l,c);if("tab"===this.options.role&&t(event.target).closest("ul").hasClass("ui-tab-nav")){t(this.nav).children().removeClass("current"),t(event.target).addClass("current");var p=this.currentPage;this.currentPage=t(event.target).index(),t(this.scroller).children().height("auto"),this._execEvent("beforeScrollStart",p,this.currentPage)}"slider"!==this.options.role&&"tab"!==this.options.role||(30>a?this.scrollTo(-this.itemWidth*this.currentPage,0,this.options.bounceTime,this.options.bounceEasing):r-this.startX<0?(this._execEvent("beforeScrollStart",this.currentPage,this.currentPage+1),this.scrollTo(-this.itemWidth*++this.currentPage,0,this.options.bounceTime,this.options.bounceEasing)):r-this.startX>=0&&(this._execEvent("beforeScrollStart",this.currentPage,this.currentPage-1),this.scrollTo(-this.itemWidth*--this.currentPage,0,this.options.bounceTime,this.options.bounceEasing)),"tab"===this.options.role&&t(this.scroller.children[this.currentPage]).siblings("li").height(0),this.indicator&&a>=30?(t(this.indicator).children().removeClass("current"),t(this.indicator.children[this.currentPage]).addClass("current")):this.nav&&a>=30&&(t(this.nav).children().removeClass("current"),t(this.nav.children[this.currentPage]).addClass("current")),t(this.scroller).children().removeClass("current"),t(this.scroller.children[this.currentPage]).addClass("current"))}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd",this.currentPage)))},destroy:function(){this._initEvents(!0)},resetPosition:function(t){var i=this.x,e=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?i=0:this.x<this.maxScrollX&&(i=this.maxScrollX),!this.hasVerticalScroll||this.y>0?e=0:this.y<this.maxScrollY&&(e=this.maxScrollY),i==this.x&&e==this.y?!1:(this.scrollTo(i,e,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},on:function(t,i){this._events[t]||(this._events[t]=[]),this._events[t].push(i)},off:function(t,i){if(this._events[t]){var e=this._events[t].indexOf(i);e>-1&&this._events[t].splice(e,1)}},_execEvent:function(t){if(this._events[t]){var i=0,e=this._events[t].length;if(e)for(;e>i;i++)this._events[t][i].apply(this,[].slice.call(arguments,1))}},scrollTo:function(t,i,e,o){o=o||s.ease.circular,this.isInTransition=this.options.useTransition&&e>0,!e||this.options.useTransition&&o.style?("slider"!==this.options.role&&"tab"!==this.options.role||(e=this.options.duration,this.scrollerStyle[s.style.transitionProperty]=s.style.transform),this.scrollerStyle[s.style.transitionTimingFunction]=o.style,this._transitionTime(e),this._translate(t,i)):this._animate(t,i,e,o.fn)},scrollToElement:function(t,i,e,o,n){if(t=t.nodeType?t:this.scroller.querySelector(t)){var r=s.offset(t);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,e===!0&&(e=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),o===!0&&(o=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),r.left-=e||0,r.top-=o||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,i=void 0===i||null===i||"auto"===i?Math.max(Math.abs(this.x-r.left),Math.abs(this.y-r.top)):i,this.scrollTo(r.left,r.top,i,n)}},_transitionTime:function(t){t=t||0,this.scrollerStyle[s.style.transitionDuration]=t+"ms",!t&&s.isBadAndroid&&(this.scrollerStyle[s.style.transitionDuration]="0.001s")},_translate:function(t,i){this.options.useTransform?this.scrollerStyle[s.style.transform]="translate("+t+"px,"+i+"px)"+this.translateZ:(t=Math.round(t),i=Math.round(i),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=i+"px"),this.x=t,this.y=i},getComputedPosition:function(){var t,i,e=window.getComputedStyle(this.scroller,null);return this.options.useTransform?(e=e[s.style.transform].split(")")[0].split(", "),t=+(e[12]||e[4]),i=+(e[13]||e[5])):(t=+e.left.replace(/[^-\d.]/g,""),i=+e.top.replace(/[^-\d.]/g,"")),{x:t,y:i}},_animate:function(t,i,o,n){function r(){var u,d,f,m=s.getTime();return m>=p?(h.isAnimating=!1,h._translate(t,i),void(h.resetPosition(h.options.bounceTime)||h._execEvent("scrollEnd",this.currentPage))):(m=(m-c)/o,f=n(m),u=(t-a)*f+a,d=(i-l)*f+l,h._translate(u,d),void(h.isAnimating&&e(r)))}var h=this,a=this.x,l=this.y,c=s.getTime(),p=c+o;this.isAnimating=!0,r()},_autoplay:function(){var i=this,e=i.currentPage;i.currentPage=i.currentPage>=i.count-1?0:++i.currentPage,i._execEvent("beforeScrollStart",e,i.currentPage),"tab"===this.options.role&&(t(this.scroller).children().height("auto"),document.body.scrollTop=0),i.scrollTo(-i.itemWidth*i.currentPage,0,i.options.bounceTime,i.options.bounceEasing),i.indicator?(t(i.indicator).children().removeClass("current"),t(i.indicator.children[i.currentPage]).addClass("current"),t(i.scroller).children().removeClass("current"),t(i.scroller.children[i.currentPage]).addClass("current")):i.nav&&(t(i.nav).children().removeClass("current"),t(i.nav.children[i.currentPage]).addClass("current"),t(i.scroller).children().removeClass("current"),t(i.scroller.children[i.currentPage]).addClass("current")),i.options.flag=setTimeout(function(){i._autoplay.apply(i)},i.options.interval)}},window.fz=window.fz||{},window.frozen=window.frozen||{},window.fz.Scroll=window.frozen.Scroll=i,"function"==typeof define&&define(function(t,e,s){s.exports=i})}(window.Zepto);
!function(t){function e(e){return t.adaptObject(this,s,e,i,n,"tips")}var i='<div class="ui-poptips ui-poptips-<%=type%>"><div class="ui-poptips-cnt"><i></i><%=content%></div></div>',s={content:"",stayTime:1e3,type:"info",callback:function(){}},n=function(e,i,n){var o=this;this.element=t(e),this._isFromTpl=n,this.elementHeight=t(e).height(),this.option=t.extend(s,i),t(e).css({"-webkit-transform":"translateY(-"+this.elementHeight+"px)"}),setTimeout(function(){t(e).css({"-webkit-transition":"all .5s"}),o.show()},20)};n.prototype={show:function(){var e=this;e.element.trigger(t.Event("tips:show")),this.element.css({"-webkit-transform":"translateY(0px)"}),e.option.stayTime>0&&setTimeout(function(){e.hide()},e.option.stayTime)},hide:function(){var e=this;e.element.trigger(t.Event("tips:hide")),this.element.css({"-webkit-transform":"translateY(-"+this.elementHeight+"px)"}),setTimeout(function(){e._isFromTpl&&e.element.remove()},500)}},t.fn.tips=t.tips=e}(window.Zepto);
!function(t){function e(e,a){var u=e[c],p=u&&r[u];if(void 0===a)return p||n(e);if(p){if(a in p)return p[a];var f=o(a);if(f in p)return p[f]}return i.call(t(e),a)}function n(e,n,i){var u=e[c]||(e[c]=++t.uuid),p=r[u]||(r[u]=a(e));return void 0!==n&&(p[o(n)]=i),p}function a(e){var n={};return t.each(e.attributes||u,function(e,a){0==a.name.indexOf("data-")&&(n[o(a.name.replace("data-",""))]=t.zepto.deserializeValue(a.value))}),n}var r={},i=t.fn.data,o=t.camelCase,c=t.expando="Zepto"+ +new Date,u=[];t.fn.data=function(a,r){return void 0===r?t.isPlainObject(a)?this.each(function(e,r){t.each(a,function(t,e){n(r,t,e)})}):0 in this?e(this[0],a):void 0:this.each(function(){n(this,a,r)})},t.fn.removeData=function(e){return"string"==typeof e&&(e=e.split(/\s+/)),this.each(function(){var n=this[c],a=n&&r[n];a&&t.each(e||a,function(t){delete a[e?o(this):t]})})},["remove","empty"].forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=this.find("*");return"remove"===e&&(t=t.add(this)),t.removeData(),n.call(this)}})}(window.Zepto),!function(t){var e={};e.cache={},t.tpl=function(t,n,a){var r=/[^\w\-\.:]/.test(t)?function(t,e){var n,a=[],i=[];for(n in t)a.push(n),i.push(t[n]);return new Function(a,r.code).apply(e||t,i)}:e.cache[t]=e.cache[t]||this.get(document.getElementById(t).innerHTML);return r.code=r.code||"var $parts=[]; $parts.push('"+t.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/(^|%>)[^\t]*/g,function(t){return t.replace(/'/g,"\\'")}).replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("$parts.push('")+"'); return $parts.join('');",n?r(n,a):r},t.adaptObject=function(e,n,a,r,i,o){var c=e;if("string"!=typeof a){var u=t.extend({},n,"object"==typeof a&&a),p=!1;t.isArray(c)&&c.length&&"script"==t(c)[0].nodeName.toLowerCase()?(c=t(t.tpl(c[0].innerHTML,u)).appendTo("body"),p=!0):t.isArray(c)&&c.length&&""==c.selector?(c=t(t.tpl(c[0].outerHTML,u)).appendTo("body"),p=!0):t.isArray(c)||(c=t(t.tpl(r,u)).appendTo("body"),p=!0)}return c.each(function(){var e=t(this),r=e.data("fz."+o);r||e.data("fz."+o,r=new i(this,t.extend({},n,"object"==typeof a&&a),p)),"string"==typeof a&&r[a]()})}}(window.Zepto);
!function(t){function i(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)}function s(){return[20*Math.random()-10,20*Math.random()-10]}function e(t){var i=t.css("position");return"relative"===i||"fixed"===i||"absolute"===i}function n(t){t.preventDefault()}function o(i){var s=this;return t.isArray(s)&&t(this).length||(s=t("body")),s.each(function(){var e=t(this),n=e.data("fz.cover");n||e.data("fz.cover",n=new h(this,t.extend({},r,"object"==typeof i&&i,e.data()))),"string"==typeof i&&n[i].call(s)})}var r={trigger:null,dismiss:null,duration:1e3,startPos:"source",offset:[0,0],expandAxis:"y",isFloat:!0,zIndex:999,callback:function(){}},h=function(i,s){this.element=t(i),this.trigger=t(s.trigger),this.dismiss=t(s.dismiss),this.option=s,this.initMask(),this.render(),this._isShown=!1,this._isDismiss=!1,this._bindTrigger(),this.position||(this.position={},this.position.screenWidth=document.documentElement.clientWidth,this.position.screenHeight=document.documentElement.clientHeight)};h.prototype={initMask:function(){this._mask=t("<div></div>"),this._mask.css({position:"absolute",top:0,left:0,width:100,height:100,"z-index":-1,"-webkit-transform":"scale(0)"})},render:function(){this._mask.appendTo(this.element),e(this.element)||this.element.css({position:"relative",overflow:"hidden"})},setConfig:function(i){return this._isShown||(i=t.extend(i,this.currentTrigger.data()),this.currentOption=i),this},show:function(t){var e=this,n=this.currentOption;if(!this._isShown&&(this.currentTrigger||t)){t&&(this.currentTrigger=t),n.callback("show",e),this._preventDefault(),e._isDismiss=!1,this._isShown=!0;var o=s(),r=2;n.isFloat&&(this._floatTrigger(),this.currentTrigger.css({zIndex:n.zIndex+1}));var h=this._getMaskPos(n.startPos,n.expandAxis),c="x"==n.expandAxis?"scale(0,1)":"y"==n.expandAxis?"scale(1,0)":"scale(0,0)";this._mask.css({left:h[0]+n.offset[0],top:h[1]+n.offset[1],background:n.background?n.background:i(),"z-index":n.zIndex,"-webkit-transform":c+" skew("+o[0]+"deg,"+o[1]+"deg)"}),this._aniMask(n.duration,n.offset,r)}return this},hide:function(t){var i=this;i.option.callback("hide",i),this._isShown&&(this._isDismiss=!0,this._mask.css({"-webkit-transform":this._originTransform}))},hidden:function(){this._isShown=!1,this._isDismiss=!1,this._mask.css({"-webkit-transition":"none"}),this._relaseDefault(),this.currentTrigger.css(this._triggerOriginCss)},_bindTrigger:function(){var i=this;this.trigger.on("tap",function(){return i._isShown||(i.currentTrigger=t(this)),i.setConfig(t.extend({},t(this).data(),i.option)).show(t(this)),!1}),this.dismiss.on("tap",function(){return i.dismiss=t(this),i.hide(),!1}),this._mask[0].addEventListener("webkitTransitionEnd",function(){i._isShown&&!i._isDismiss?i.option.callback("shown",i):(i.hidden(),i.option.callback("hidden",i))},!1)},_preventDefault:function(){document.addEventListener("mousewheel",n,!1),document.body.addEventListener("touchmove",n,!1),document.documentElement.addEventListener("touchmove",n,!1)},_relaseDefault:function(){document.removeEventListener("mousewheel",n,!1),document.body.removeEventListener("touchmove",n,!1),document.documentElement.removeEventListener("touchmove",n,!1)},_floatTrigger:function(){this._triggerOriginCss={position:this.currentTrigger.css("position"),"z-index":this.currentTrigger.css("z-index")},e(this.currentTrigger)||this.currentTrigger.css({position:"relative"})},_getMaskPos:function(t,i){this.position||(this.position={},this.position.screenWidth=document.documentElement.clientWidth,this.position.screenHeight=document.documentElement.clientHeight),"x"==i?this._mask.css({height:this.position.screenHeight}):"y"==i&&this._mask.css({width:this.position.screenWidth}),this.position.scrollTop=document.body.scrollTop,this.position.scrollLeft=document.body.scrollLeft,this.position.offsetTop=this.element.offset().top,this.position.offsetLeft=this.element.offset().left,this.position.triggerLeft=this.currentTrigger.offset().left,this.position.triggerTop=this.currentTrigger.offset().top,this.position.triggerHeight=this.currentTrigger.height(),this.position.triggerWidth=this.currentTrigger.width();var s=parseInt(this._mask.css("width")),e=parseInt(this._mask.css("height")),n=this.position.scrollLeft-this.position.offsetLeft+this.position.screenWidth/2-s/2,o=0;return"top"==t?o=this.position.scrollTop-this.position.offsetTop-e/2:"bottom"==t?o=this.position.scrollTop-this.position.offsetTop+this.position.screenHeight-e/2:"center"==t?o=this.position.scrollTop-this.position.offsetTop+this.position.screenHeight/2-e/2:(n=this.position.triggerLeft-this.position.offsetLeft+this.position.triggerWidth/2-s/2,o=this.position.triggerTop-this.position.offsetTop+this.position.triggerHeight/2-e/2),[n,o]},_aniMask:function(t,i,s){var e=this;this._originTransform=this._mask.css("-webkit-transform");var n=Math.ceil(this.position.screenWidth/parseInt(this._mask.css("width")))*s,o=Math.ceil(this.position.screenHeight/parseInt(this._mask.css("height")))*s;setTimeout(function(){e._mask.css({"-webkit-transition":"all "+t+"ms","-webkit-transform":"scale("+n+","+o+") skew(0deg,0deg)"})},200)}},t.fn.cover=t.cover=o}(window.Zepto);
if("undefined"==typeof Zepto)throw new Error("Parallax.js's script requires Zepto");!function(a){"use strict";function r(){x.loading?a(".wrapper").append('<div class="parallax-loading"><i class="ui-loading ui-loading-white"></i></div>'):y=!1,m=0,h="stay",u=v.length,g=a(window).width(),b=a(window).height(),C=a("[data-animation]");for(var r=0;u>r;r++)a(v[r]).attr("data-id",r+1);k.addClass(x.direction).addClass(x.swipeAnim),v.css({width:g+"px",height:b+"px"}),"horizontal"===x.direction?k.css("width",g*v.length):k.css("height",b*v.length),"cover"===x.swipeAnim&&(k.css({width:g,height:b}),v[0].style.display="block"),x.loading||(a(v[m]).addClass("current"),x.onchange(m,v[m],h),l())}function t(a){return y===!0?(event.preventDefault(),!1):(z=!0,c="horizontal"===x.direction?a.pageX:a.pageY,"default"===x.swipeAnim&&(k.addClass("drag"),p=k.css("-webkit-transform").replace("matrix(","").replace(")","").split(","),p="horizontal"===x.direction?parseInt(p[4]):parseInt(p[5])),"cover"===x.swipeAnim&&x.drag&&v.addClass("drag"),void(f=1))}function i(a){return y===!0||z===!1?(event.preventDefault(),!1):(event.preventDefault(),w="horizontal"===x.direction?a.pageX:a.pageY,s(),x.drag&&!d()&&e(),void(f=2))}function n(r){y===!0||2!==f||(z=!1,w="horizontal"===x.direction?r.pageX:r.pageY,"default"!==x.swipeAnim||d()?"cover"!==x.swipeAnim||d()||(Math.abs(w-c)<=50&&w>=c&&x.drag?(o(m,"keep-backward"),h="stay"):Math.abs(w-c)<=50&&c>w&&x.drag?(o(m,"keep-forward"),h="stay"):Math.abs(w-c)>50&&w>=c&&x.drag?(o(m-1,"backward"),h="backward"):Math.abs(w-c)>50&&c>w&&x.drag?(o(m+1,"forward"),h="forward"):Math.abs(w-c)>50&&w>=c&&!x.drag?(o(m-1,"backward"),h="backward"):Math.abs(w-c)>50&&c>w&&!x.drag&&(o(m+1,"forward"),h="forward")):(k.removeClass("drag"),Math.abs(w-c)<=50?(o(m),h="stay"):w>=c?(o(m-1),h="backward"):c>w&&(o(m+1),h="forward")),x.indicator&&a(a(".parallax-h-indicator ul li, .parallax-v-indicator ul li").removeClass("current").get(m)).addClass("current"),f=3)}function e(){if("default"===x.swipeAnim){var r=p+w-c;"horizontal"===x.direction?k.css("-webkit-transform","matrix(1, 0, 0, 1, "+r+", 0)"):k.css("-webkit-transform","matrix(1, 0, 0, 1, 0, "+r+")")}else if("cover"===x.swipeAnim){var r=w-c,t=a(v[m-1]),i=a(v[m+1]);a(v).css({"z-index":0}),"horizontal"===x.direction&&w>=c?t.css({"z-index":2,display:"block","-webkit-transform":"translateX("+(r-g)+"px)"}):"horizontal"===x.direction&&c>w?i.css({"z-index":2,display:"block","-webkit-transform":"translateX("+(g+r)+"px)"}):"vertical"===x.direction&&w>=c?t.css({"z-index":2,display:"block","-webkit-transform":"translateY("+(r-b)+"px)"}):"vertical"===x.direction&&c>w&&i.css({"z-index":2,display:"block","-webkit-transform":"translateY("+(b+r)+"px)"})}}function o(r,t){if(m=r,"default"===x.swipeAnim){var i=0;i="horizontal"===x.direction?r*-g:r*-b,"horizontal"===x.direction?k.css({"-webkit-transform":"matrix(1, 0, 0, 1, "+i+", 0)"}):k.css({"-webkit-transform":"matrix(1, 0, 0, 1, 0, "+i+")"})}else"cover"===x.swipeAnim&&("keep-backward"===t&&x.drag?(v.removeClass("drag"),"horizontal"===x.direction?a(v[m-1]).css({"-webkit-transform":"translateX(-100%)"}):a(v[m-1]).css({"-webkit-transform":"translateY(-100%)"})):"keep-forward"===t&&x.drag?(v.removeClass("drag"),"horizontal"===x.direction?a(v[m+1]).css({"-webkit-transform":"translateX(100%)"}):a(v[m+1]).css({"-webkit-transform":"translateY(100%)"})):"forward"===t&&x.drag?(v.removeClass("drag"),a(v[m-1]).addClass("back"),v[m].style.webkitTransform="translate(0, 0)"):"backward"===t&&x.drag?(v.removeClass("drag"),a(v[m+1]).addClass("back"),v[m].style.webkitTransform="translate(0, 0)"):"forward"!==t||x.drag?"backward"!==t||x.drag||(k.addClass("animate"),a(v[m+1]).addClass("back"),a(v[m]).addClass("front").show()):(k.addClass("animate"),a(v[m-1]).addClass("back"),a(v[m]).addClass("front").show()));y=!0,setTimeout(function(){y=!1},300)}function s(){"horizontal"===x.direction?w>=c?k.removeClass("forward").addClass("backward"):c>w&&k.removeClass("backward").addClass("forward"):w>=c?k.removeClass("forward").addClass("backward"):c>w&&k.removeClass("backward").addClass("forward")}function d(){if("horizontal"===x.direction){if(w>=c&&0===m||c>=w&&m===u-1)return!0}else if(w>=c&&0===m||c>=w&&m===u-1)return!0;return!1}function l(){C.css({"-webkit-animation":"none"}),a(".current [data-animation]").each(function(r,t){var i=a(t),n=i.attr("data-animation"),e=i.attr("data-duration")||500,o=i.attr("data-timing-function")||"ease",s=i.attr("data-delay")?i.attr("data-delay"):0;"followSlide"===n&&("horizontal"===x.direction&&"forward"===h?n="followSlideToLeft":"horizontal"===x.direction&&"backward"===h?n="followSlideToRight":"vertical"===x.direction&&"forward"===h?n="followSlideToTop":"vertical"===x.direction&&"backward"===h&&(n="followSlideToBottom")),i.css({"-webkit-animation":n+" "+e+"ms "+o+" "+s+"ms both",animation:n+" "+e+"ms "+o+" "+s+"ms both"})})}var c,w,f,p,h,m,u,g,b,k,v,C,x,z=!1,y=!0;a.fn.parallax=function(t){return x=a.extend({},a.fn.parallax.defaults,t),this.each(function(){k=a(this),v=k.find(".page"),r()})},a.fn.parallax.defaults={direction:"vertical",swipeAnim:"default",drag:!0,loading:!1,indicator:!1,arrow:!1,onchange:function(){},orientationchange:function(){}},a(document).on("touchstart",".page",function(a){t(a.changedTouches[0])}).on("touchmove",".page",function(a){i(a.changedTouches[0])}).on("touchend",".page",function(a){n(a.changedTouches[0])}).on("webkitAnimationEnd webkitTransitionEnd",".pages",function(){"stay"!==h&&(setTimeout(function(){a(".back").hide().removeClass("back"),a(".front").show().removeClass("front"),k.removeClass("forward backward animate")},10),a(v.removeClass("current").get(m)).addClass("current"),x.onchange(m,v[m],h),l())}),a(".page *").on("webkitAnimationEnd",function(){event.stopPropagation()}),a(window).on("load",function(){if(x.loading&&(a(".parallax-loading").remove(),y=!1,a(v[m]).addClass("current"),x.onchange(m,v[m],h),l()),x.indicator){y=!1;var r="horizontal"===x.direction?"parallax-h-indicator":"parallax-v-indicator";a(".wrapper").append("<div class="+r+"></div>");for(var t="<ul>",i=1;u>=i;i++)t+=1===i?'<li class="current">'+i+"</li>":"<li>"+i+"</li>";t+="</ul>",a("."+r).append(t)}x.arrow&&(v.append('<span class="parallax-arrow"></span>'),a(v[u-1]).find(".parallax-arrow").remove())}),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",function(){180!==window.orientation&&0!==window.orientation||x.orientationchange("portrait"),90!==window.orientation&&-90!==window.orientation||x.orientationchange("landscape")},!1)}(Zepto);